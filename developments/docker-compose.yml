version: '3'

services:
  go:
    build:
      # コンテキストを定義する下のdockerfileは定義したコンテキストからみた
      # Dockerfileの位置
      context: ../.
      dockerfile: build/Dockerfile.dev
    volumes:
      - ./:/go/app
    command: air
    # 左側がホスト側のポート
    ports:
      - 8888:8080
    tty: true

  redis:
    image: redis
    ports:
    - 6379:6379
    # データのマウントをとる
    volumes:
    - ./data/redis:/data
